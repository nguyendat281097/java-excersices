package com.nvd.example.service;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.ArrayList;
import java.util.List;

import com.nvd.example.model.Article;

public class ArticleService {
	public static List<Article> articles = new ArrayList<>();
	
	public void getInstance() {
		if(articles.size() == 0) {
			createDefaultDatas(null);
		}
	}

	private void createDefaultDatas(int[] ids) {
		if(ids != null && ids.length > 0) {
			for (int i = 0; i < ids.length; i++) {
				articles.add(createDefaultData(ids[i]));
			}
		}
		
	}

	private Article createDefaultData(int id) {
		Article article = new Article();
        article.setId(id);
        article.setContent("HATEOAS example by Dat Nguyen");
        article.setPublishedDate(LocalDate.now().format(DateTimeFormatter.ofPattern("dd-MM-yyyy")));
        article.setAuthorId(1);
        return article;
		
	}
}
